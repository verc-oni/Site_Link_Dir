<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
      <title>KissAsian - Link Opener</title>
</head>
<body>
<style> 
body{
  font-size: .7rem;
  background-color: rgba(0, 0, 0, 0.756);
  color: white;
}

.box1{
  background-color: rgb(176, 174, 174);
  display: flex;
  width: 60vw;
  padding: 1rem;
  margin-top: 4.5rem;
}

.box2{
  background-color: rgb(176, 174, 174);
  width: 60vw;
  padding: 1rem;
  margin-top: 2rem;
}

.link_pad{
  border: 1px solid black;
  border-radius: 3px;
}

.link_pad:hover{
  background-color: rgb(37, 37, 50);
}

.title{
  color: white;
  margin-top: 4rem;
  display: flex;
}
</style>


<div class="container justify-content-center title">
  <h1>Kissasian Link Opener</h1>
</div>


<div class="container box1 flex-column justify-content-center rounded shadow">
  
    <form name="myForm" action="" method="post">
      {% csrf_token %}
      <div class="form-group p-2">
          <label for="id_link">Link:</label>
          <input placeholder='Paste Link Here...' class="form-control mb-2" id="id_link" type="text" name="fname" style="width: 50vw; background-color: rgb(176, 174, 174);">
          <div class="form-check mb-1">
            <input class="form-check-input" name="checkbox" type="checkbox" value="True" id="id_view_links">
            <label class="form-check-label" for="id_view_links">
              View Link(s)
            </label>
          </div>
          <button class="btn btn-primary mt-1" id="id_submit_btn" type="submit">
           <span class="row">
             <span class="col pr-1 mt-1"> 
              <span class="spinner-border spinner-border-sm" id="id_spinner" role="status" aria-hidden="true" style="display: none;"></span>
             </span>
            
            <span id="id_text" class="col pl-1">Submit</span>
           </span>
          </button>
      </div>
    </form>
    <!--  Error Message  -->
    {% if not test2 %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
      <strong>Invalid link!</strong> Try again.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% endif %}    

  </div>
  <!-- Link View -->
  {% if not No_list %}
    <div class="container box2 d-flex flex-column justify-content-center rounded shadow">
      {% if time_done and checkbox %}    
        <div class="d-flex flex-row">
          {% for link in link_list %}
            <div class="link_pad d-flex flex-column m-1 p-2">
              <p id="id_link_viewer" class="m-0">{{link}}</p>
            </div>
          {% endfor %}
        </div>
      {% endif %}
      <div class="d-flex flex-row">
        <button type="button" class="btn btn-primary m-1" onclick="link_opener()">
          OpenLinks
        </button>
      </div>
  
    </div>
  {% endif %}
</div>
  



<!-- Personal JavaScript -->
<script>
function link_opener() {
    {% for link in  link_list_ref %}
    var link = 'https://kissasian.li'+'{{link}}';
    window.open(link);
    {% endfor %}
}

var linkView = document.getElementById('id_link_viewer');
var spinner = document.getElementById('id_spinner');
var submit_btn = document.getElementById('id_submit_btn');

submit_btn.addEventListener('click', function(){
    spinner.style.display = 'block';
    document.getElementById('id_text').innerHTML = 'loading...';

});


</script>


<!-- Boostrap js & jquery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>


</body>
</html>
